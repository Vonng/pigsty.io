<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pigsty – FAQ</title>
    <link>/categories/faq/</link>
    <description>Recent content in FAQ on Pigsty</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    
	  <atom:link href="/categories/faq/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/docker/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/docker/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;how-to-install-docker-&#34;&gt;How to install Docker ？&lt;/h2&gt;
&lt;p&gt;Install with the &lt;a href=&#34;/docs/docker/#dockeryml&#34;&gt;&lt;code&gt;docker.yml&lt;/code&gt;&lt;/a&gt; playbook, targeting at any node managed by Pigsty.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./docker.yml -l &amp;lt;selector&amp;gt;    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/etcd/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/etcd/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;what-is-the-role-of-the-etcd-in-pigsty&#34;&gt;What is the role of the etcd in pigsty?&lt;/h2&gt;
&lt;p&gt;etcd is a distributed, reliable key-value store used to store the most critical config / consensus data in the deployment.
Pigsty uses etcd as the DCS (Distributed Configuration Store) service for Patroni, which will store the high availability status information of the PostgreSQL cluster.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-many-etcd-instance-should-i-choose&#34;&gt;How many etcd instance should I choose?&lt;/h2&gt;
&lt;p&gt;If more than (include) half of the etcd instances are down, the etcd cluster and its service will be unavailable.&lt;/p&gt;
&lt;p&gt;For example, a 3-node etcd cluster can tolerate at most one node failure, and the other two nodes can still work normally; while a 5-node etcd cluster can tolerate 2 node failures.&lt;/p&gt;
&lt;p&gt;Beware that the &lt;strong&gt;learner&lt;/strong&gt; instances in the etcd cluster do not count in the member number, so in a 3-node etcd cluster, if there is a learner instance, the actual member count is 2, so no node failure can be tolerated.&lt;/p&gt;
&lt;p&gt;It is advisable to choose an odd number of etcd instances to avoid split-brain scenarios. It is recommended to use 3 or 5 nodes for the production environment.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-is-the-impact-of-etcd-failure&#34;&gt;What is the impact of etcd failure?&lt;/h2&gt;
&lt;p&gt;If etcd cluster is unavailable, it will affect the control plane of Pigsty, but not the data plane - the existing PostgreSQL cluster will continue to serve, but admin operations through Patroni will not work.&lt;/p&gt;
&lt;p&gt;During etcd failure, PostgreSQL HA is unable to perform automatic failover, and most of the Patroni operations will be blocked, such as edit-config, restart, switchover, etc&amp;hellip;
Admin tasks through Ansible playbooks are usually not affected by etcd failure, such as create database, create user, reload HBA and Service, etc&amp;hellip;, And you can always operate the PostgreSQL cluster directly to achieve most of the patroni functions.&lt;/p&gt;
&lt;p&gt;Beware that the above description is only applicable to newer versions of Patroni (&amp;gt;=3.0, Pigsty &amp;gt;= 2.0). If you are using an older version of Patroni (&amp;lt;3.0, corresponding to Pigsty version 1.x), etcd / consul failure will cause a serious impact:
All PostgreSQL clusters will be demoted and reject write requests, and etcd failure will be amplified as a global PostgreSQL failure. After Patroni 3.0&amp;rsquo;s DCS Failsafe feature, this situation has been significantly improved.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-data-is-stored-in-the-etcd-cluster&#34;&gt;What data is stored in the etcd cluster?&lt;/h2&gt;
&lt;p&gt;etcd is only used for PostgreSQL HA consensus in Pigsty, no other data is stored in etcd by default.&lt;/p&gt;
&lt;p&gt;These consensus data are managed by Patroni, and when these data are lost in etcd, Patroni will automatically rebuild them.&lt;/p&gt;
&lt;p&gt;Thus, by default, the &lt;strong&gt;etcd&lt;/strong&gt; in Pigsty can be regarded as a &amp;ldquo;stateless service&amp;rdquo; that is disposable, which brings great convenience to maintenance work.&lt;/p&gt;
&lt;p&gt;If you use etcd for other purposes, such as storing metadata for Kubernetes, or storing other data, you need to back up the etcd data yourself and restore the data after the etcd cluster is restored.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-recover-from-etcd-failure&#34;&gt;How to recover from etcd failure?&lt;/h2&gt;
&lt;p&gt;Since etcd is disposable in Pigsty, you can quickly stop the bleeding by &amp;ldquo;restarting&amp;rdquo; or &amp;ldquo;redeploying&amp;rdquo; etcd in case of failure.&lt;/p&gt;
&lt;p&gt;To &lt;strong&gt;Restart&lt;/strong&gt; the etcd cluster, you can use the following Ansible command (or &lt;code&gt;systemctl restart etcd&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./etcd.yml -t etcd_launch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To &lt;strong&gt;Reset&lt;/strong&gt; the etcd cluster, you can run this playbook, it will &lt;strong&gt;nuke&lt;/strong&gt; the etcd cluster and redeploy it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./etcd.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Beware that if you use etcd to store other data, don&amp;rsquo;t forget to backup etcd data before nuking the etcd cluster.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;is-any-maintenance-work-for-etcd-cluster&#34;&gt;Is any maintenance work for etcd cluster?&lt;/h2&gt;
&lt;p&gt;In short: do not use all the &lt;strong&gt;quota&lt;/strong&gt; of etcd.&lt;/p&gt;
&lt;p&gt;etcd has a default quota for database size of 2GB, if your etcd database size exceeds this limit, etcd will reject write requests.
Meanwhile, as etcd&amp;rsquo;s &lt;a href=&#34;https://etcd.io/docs/v3.5/learning/data_model/&#34;&gt;data model&lt;/a&gt; illustrates, each write will generate a new version (a.k.a. revision),
so if your etcd cluster writes frequently, even with very few keys, the etcd database size may continue to grow, and may fail when it reaches the quota limit.&lt;/p&gt;
&lt;p&gt;You can achieve this by &lt;strong&gt;Auto Compact&lt;/strong&gt;, &lt;strong&gt;Manual Compact&lt;/strong&gt;, &lt;strong&gt;Defragmentation&lt;/strong&gt;, and &lt;strong&gt;Quota Increase&lt;/strong&gt;, etc., please refer to the etcd &lt;a href=&#34;https://etcd.io/docs/v3.5/op-guide/maintenance/&#34;&gt;official maintenance guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pigsty has auto compact enabled by default since v2.6, so you usually don&amp;rsquo;t have to worry about etcd full.
For versions before v2.6, we &lt;strong&gt;strongly recommend&lt;/strong&gt; enabling etcd&amp;rsquo;s auto compact feature in the production environment.&lt;/p&gt;


&lt;div class=&#34;alert alert-danger&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;Fill etcd may lead to PostgreSQL failure!&lt;/h4&gt;

    For Pigsty v2.0 - v2.5 users, we strongly recommend upgrading to a newer version, or following the instructions below to enable etcd auto compaction!

&lt;/div&gt;

&lt;hr&gt;
&lt;h2 id=&#34;how-to-enable-etcd-auto-compaction&#34;&gt;How to enable etcd auto compaction?&lt;/h2&gt;
&lt;p&gt;If you are using an earlier version of Pigsty (v2.0 - v2.5), we strongly recommend that you enable etcd&amp;rsquo;s auto compaction feature in the production environment.&lt;/p&gt;
&lt;p&gt;Edit the etcd config template in &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/roles/etcd/templates/etcd.conf.j2#L30&#34;&gt;&lt;code&gt;roles/etcd/templates/etcd.conf.j2&lt;/code&gt;&lt;/a&gt; with these 3 new lines:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;auto-compaction-mode&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;periodic&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;auto-compaction-retention&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;24h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;quota-backend-bytes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;17179869184&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can set all the PostgreSQL cluster to &lt;strong&gt;maintenance mode&lt;/strong&gt; and then redeploy the etcd cluster with &lt;code&gt;./etcd.yml&lt;/code&gt; to apply the these changes.&lt;/p&gt;
&lt;p&gt;It will increase the etcd default quota from 2 GiB to 16 GiB, and ensure that only the most recent day&amp;rsquo;s write history is retained, avoiding the infinite growth of the etcd database size.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;where-does-the-postgresql-ha-data-stored-in-etcd&#34;&gt;Where does the PostgreSQL HA data stored in etcd?&lt;/h2&gt;
&lt;p&gt;Patroni will use the &lt;a href=&#34;/docs/reference/param/#pg_namespace&#34;&gt;&lt;strong&gt;&lt;code&gt;pg_namespace&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt; (default is &lt;code&gt;/pg&lt;/code&gt;) as the prefix for all metadata keys in etcd, followed by the PostgreSQL cluster name.&lt;/p&gt;
&lt;p&gt;For example, a PG cluster named &lt;code&gt;pg-meta&lt;/code&gt;, its metadata keys will be stored under &lt;code&gt;/pg/pg-meta&lt;/code&gt;, which may look like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ttl&amp;#34;&lt;/span&gt;:30,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;loop_wait&amp;#34;&lt;/span&gt;:10,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;retry_timeout&amp;#34;&lt;/span&gt;:10,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;primary_start_timeout&amp;#34;&lt;/span&gt;:10,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;maximum_lag_on_failover&amp;#34;&lt;/span&gt;:1048576,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;maximum_lag_on_syncnode&amp;#34;&lt;/span&gt;:-1,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;primary_stop_timeout&amp;#34;&lt;/span&gt;:30,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;synchronous_mode&amp;#34;&lt;/span&gt;:false,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;synchronous_mode_strict&amp;#34;&lt;/span&gt;:false,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;failsafe_mode&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_version&amp;#34;&lt;/span&gt;:16,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_cluster&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg-meta&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_shard&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg-meta&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_group&amp;#34;&lt;/span&gt;:0,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postgresql&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;use_slots&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;use_pg_rewind&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;remove_data_directory_on_rewind_failure&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;parameters&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_connections&amp;#34;&lt;/span&gt;:100,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;superuser_reserved_connections&amp;#34;&lt;/span&gt;:10,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_locks_per_transaction&amp;#34;&lt;/span&gt;:200,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_prepared_transactions&amp;#34;&lt;/span&gt;:0,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;track_commit_timestamp&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_level&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;logical&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_log_hints&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_worker_processes&amp;#34;&lt;/span&gt;:16,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_wal_senders&amp;#34;&lt;/span&gt;:50,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_replication_slots&amp;#34;&lt;/span&gt;:50,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;password_encryption&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;scram-sha-256&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ssl&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ssl_cert_file&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/pg/cert/server.crt&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ssl_key_file&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/pg/cert/server.key&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ssl_ca_file&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/pg/cert/ca.crt&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;shared_buffers&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;7969MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;maintenance_work_mem&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1993MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;work_mem&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;79MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_parallel_workers&amp;#34;&lt;/span&gt;:8,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_parallel_maintenance_workers&amp;#34;&lt;/span&gt;:2,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_parallel_workers_per_gather&amp;#34;&lt;/span&gt;:0,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;hash_mem_multiplier&amp;#34;&lt;/span&gt;:8.0,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;huge_pages&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;try&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;temp_file_limit&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;7GB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;vacuum_cost_delay&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;20ms&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;vacuum_cost_limit&amp;#34;&lt;/span&gt;:2000,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bgwriter_delay&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10ms&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bgwriter_lru_maxpages&amp;#34;&lt;/span&gt;:800,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bgwriter_lru_multiplier&amp;#34;&lt;/span&gt;:5.0,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;min_wal_size&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;7GB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_wal_size&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;28GB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_slot_wal_keep_size&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;42GB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_buffers&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;16MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_writer_delay&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;20ms&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_writer_flush_after&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;commit_delay&amp;#34;&lt;/span&gt;:20,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;commit_siblings&amp;#34;&lt;/span&gt;:10,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;checkpoint_timeout&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;15min&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;checkpoint_completion_target&amp;#34;&lt;/span&gt;:0.8,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;archive_mode&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;archive_timeout&amp;#34;&lt;/span&gt;:300,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;archive_command&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pgbackrest --stanza=pg-meta archive-push %p&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_standby_archive_delay&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10min&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_standby_streaming_delay&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;3min&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_receiver_status_interval&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1s&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;hot_standby_feedback&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;wal_receiver_timeout&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;60s&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_logical_replication_workers&amp;#34;&lt;/span&gt;:8,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;max_sync_workers_per_subscription&amp;#34;&lt;/span&gt;:6,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;random_page_cost&amp;#34;&lt;/span&gt;:1.1,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;effective_io_concurrency&amp;#34;&lt;/span&gt;:1000,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;effective_cache_size&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;23907MB&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;default_statistics_target&amp;#34;&lt;/span&gt;:200,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_destination&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;csvlog&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;logging_collector&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_directory&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/pg/log/postgres&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_filename&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postgresql-%Y-%m-%d.log&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_checkpoints&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_lock_waits&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_replication_commands&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_statement&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ddl&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_min_duration_statement&amp;#34;&lt;/span&gt;:100,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;track_io_timing&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;track_functions&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;track_activity_query_size&amp;#34;&lt;/span&gt;:8192,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;log_autovacuum_min_duration&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1s&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;autovacuum_max_workers&amp;#34;&lt;/span&gt;:2,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;autovacuum_naptime&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1min&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;autovacuum_vacuum_cost_delay&amp;#34;&lt;/span&gt;:-1,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;autovacuum_vacuum_cost_limit&amp;#34;&lt;/span&gt;:-1,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;autovacuum_freeze_max_age&amp;#34;&lt;/span&gt;:1000000000,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;deadlock_timeout&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;50ms&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;idle_in_transaction_session_timeout&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10min&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;shared_preload_libraries&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timescaledb, pg_stat_statements, auto_explain&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auto_explain.log_min_duration&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1s&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auto_explain.log_analyze&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auto_explain.log_verbose&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auto_explain.log_timing&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auto_explain.log_nested_statements&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_stat_statements.max&amp;#34;&lt;/span&gt;:5000,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_stat_statements.track&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_stat_statements.track_utility&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;off&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_stat_statements.track_planning&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;off&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timescaledb.telemetry_level&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;off&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timescaledb.max_background_workers&amp;#34;&lt;/span&gt;:8,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;citus.node_conninfo&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;sslm
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;ode=prefer&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/failsafe
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg-meta-2&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://10.10.10.11:8008/patroni&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg-meta-1&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://10.10.10.10:8008/patroni&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/initialize
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;7418384210787662172&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/leader
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pg-meta-1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/members/pg-meta-1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;conn_url&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postgres://10.10.10.10:5432/postgres&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;api_url&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://10.10.10.10:8008/patroni&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;state&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;running&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;primary&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;4.0.1&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;tags&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clonefrom&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;16&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;spec&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;8C.32G.125G&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;conf&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;tiny.yml&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;xlog_location&amp;#34;&lt;/span&gt;:184549376,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timeline&amp;#34;&lt;/span&gt;:1&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/members/pg-meta-2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;conn_url&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postgres://10.10.10.11:5432/postgres&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;api_url&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://10.10.10.11:8008/patroni&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;state&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;running&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;replica&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;4.0.1&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;tags&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clonefrom&amp;#34;&lt;/span&gt;:true,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;16&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;spec&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;8C.32G.125G&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;conf&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;tiny.yml&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;xlog_location&amp;#34;&lt;/span&gt;:184549376,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;replication_state&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;streaming&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timeline&amp;#34;&lt;/span&gt;:1&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/pg/pg-meta/status
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;optime&amp;#34;&lt;/span&gt;:184549376,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;slots&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_meta_2&amp;#34;&lt;/span&gt;:184549376,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_meta_1&amp;#34;&lt;/span&gt;:184549376&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;retain_slots&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_meta_1&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;pg_meta_2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-use-existing-external-etcd-cluster&#34;&gt;How to use existing external etcd cluster?&lt;/h2&gt;
&lt;p&gt;The hard-coded group, &lt;code&gt;etcd&lt;/code&gt;, will be used as DCS servers for PGSQL. You can initialize them with &lt;code&gt;etcd.yml&lt;/code&gt; or assume it is an existing external etcd cluster.&lt;/p&gt;
&lt;p&gt;To use an existing external etcd cluster, define them as usual and make sure your current etcd cluster certificate is signed by the same CA as your self-signed CA for PGSQL.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-add-a-new-member-to-the-existing-etcd-cluster&#34;&gt;How to add a new member to the existing etcd cluster?&lt;/h2&gt;
&lt;p&gt;Check &lt;a href=&#34;/docs/etcd/#add-member&#34;&gt;Add a member to etcd cluster&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;etcdctl member add &amp;lt;etcd-?&amp;gt; --learner&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt; --peer-urls&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;https://&amp;lt;new_ins_ip&amp;gt;:2380 &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# on admin node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./etcd.yml -l &amp;lt;new_ins_ip&amp;gt; -e &lt;span style=&#34;color:#000&#34;&gt;etcd_init&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;existing                                 &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# init new etcd member&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;etcdctl member promote &amp;lt;new_ins_server_id&amp;gt;                                       &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# on admin node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-remove-a-member-from-an-existing-etcd-cluster&#34;&gt;How to remove a member from an existing etcd cluster?&lt;/h2&gt;
&lt;p&gt;Check &lt;a href=&#34;/docs/etcd/#remove-member&#34;&gt;Remove member from etcd cluster&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;etcdctl member remove &amp;lt;etcd_server_id&amp;gt;   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# kick member out of the cluster (on admin node)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./etcd.yml -l &amp;lt;ins_ip&amp;gt; -t etcd_purge     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# purge etcd instance&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/ferret/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/ferret/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;install-mongosh&#34;&gt;Install mongosh&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat &amp;gt; /etc/yum.repos.d/mongo.repo &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;[mongodb-org-7.0]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;name=MongoDB Repository
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/7.0/x86_64/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;gpgcheck=0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;enabled=1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install -y mongodb-mongosh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# or just install via rpm &amp;amp; links&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rpm -ivh https://mirrors.tuna.tsinghua.edu.cn/mongodb/yum/el7/RPMS/mongodb-mongosh-1.9.1.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/infra/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/infra/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;which-components-are-included-in-infra&#34;&gt;Which components are included in INFRA&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ansible for automation, deployment, and administration;&lt;/li&gt;
&lt;li&gt;Nginx for exposing any WebUI service and serving the yum/apt repo;&lt;/li&gt;
&lt;li&gt;Self-Signed CA for SSL/TLS certificates;&lt;/li&gt;
&lt;li&gt;Prometheus for monitoring metrics&lt;/li&gt;
&lt;li&gt;Grafana for monitoring/visualization&lt;/li&gt;
&lt;li&gt;Loki for logging collection&lt;/li&gt;
&lt;li&gt;AlertManager for alerts aggregation&lt;/li&gt;
&lt;li&gt;Chronyd for NTP time sync on the admin node.&lt;/li&gt;
&lt;li&gt;DNSMasq for DNS registration and resolution.&lt;/li&gt;
&lt;li&gt;ETCD as DCS for PGSQL HA; (dedicated module)&lt;/li&gt;
&lt;li&gt;PostgreSQL on meta nodes as CMDB; (optional)&lt;/li&gt;
&lt;li&gt;Docker for stateless applications &amp;amp; tools (optional)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-restore-prometheus-targets&#34;&gt;How to restore Prometheus targets&lt;/h2&gt;
&lt;p&gt;If you accidentally deleted the Prometheus targets dir, you can register monitoring targets to Prometheus again with the:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t register_prometheus  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all infra targets to prometheus on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./node.yml  -t register_prometheus  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all node  targets to prometheus on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./etcd.yml  -t register_prometheus  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all etcd targets to prometheus on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./minio.yml -t register_prometheus  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all minio targets to prometheus on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t register_prometheus  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all pgsql targets to prometheus on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-restore-grafana-datasource&#34;&gt;How to restore Grafana datasource&lt;/h2&gt;
&lt;p&gt;PGSQL Databases in &lt;a href=&#34;/docs/reference/param/#pg_databases&#34;&gt;&lt;code&gt;pg_databases&lt;/code&gt;&lt;/a&gt; are registered as Grafana datasource by default.&lt;/p&gt;
&lt;p&gt;If you accidentally deleted the registered postgres datasource in Grafana, you can register them again with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t register_grafana  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all pgsql database (in pg_databases) as grafana datasource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-restore-the-haproxy-admin-page-proxy&#34;&gt;How to restore the HAProxy admin page proxy&lt;/h2&gt;
&lt;p&gt;The haproxy admin page is proxied by Nginx under the default server.&lt;/p&gt;
&lt;p&gt;If you accidentally deleted the registered haproxy proxy settings in &lt;code&gt;/etc/nginx/conf.d/haproxy&lt;/code&gt;, you can restore them again with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./node.yml -t register_nginx     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register all haproxy admin page proxy settings to nginx on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-restore-the-dns-registration&#34;&gt;How to restore the DNS registration&lt;/h2&gt;
&lt;p&gt;PGSQL cluster/instance domain names are registered to &lt;code&gt;/etc/hosts.d/&amp;lt;name&amp;gt;&lt;/code&gt; on infra nodes by default.&lt;/p&gt;
&lt;p&gt;You can restore them again with the following:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t pg_dns   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# register pg DNS names to dnsmasq on infra nodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-expose-new-nginx-upstream-service&#34;&gt;How to expose new Nginx upstream service&lt;/h2&gt;
&lt;p&gt;If you wish to expose a new WebUI service via the Nginx portal, you can add the service definition to the &lt;a href=&#34;/docs/reference/param/#infra_portal&#34;&gt;&lt;code&gt;infra_portal&lt;/code&gt;&lt;/a&gt; parameter.&lt;/p&gt;
&lt;p&gt;And re-run &lt;code&gt;./infra.yml -t nginx_config,nginx_launch&lt;/code&gt; to update &amp;amp; apply the Nginx configuration.&lt;/p&gt;
&lt;p&gt;If you wish to access with HTTPS, you must remove &lt;code&gt;files/pki/csr/pigsty.csr&lt;/code&gt;, &lt;code&gt;files/pki/nginx/pigsty.{key,crt}&lt;/code&gt; to force re-generating the Nginx SSL/TLS certificate to include the new upstream&amp;rsquo;s domain name.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-expose-web-service-through-nginx&#34;&gt;How to expose web service through Nginx?&lt;/h2&gt;
&lt;p&gt;While you can directly access services via IP:Port, we still recommend consolidating access points by using domain names and uniformly accessing various web-based services through the Nginx portal.
This approach helps centralize access, reduce the number of exposed ports, and facilitates access control and auditing.&lt;/p&gt;
&lt;p&gt;If you wish to expose a new WebUI service through the Nginx portal, you can add the service definition to the  &lt;a href=&#34;/docs/reference/param/#infra_portal&#34;&gt;&lt;code&gt;infra_portal&lt;/code&gt;&lt;/a&gt; parameter.
For example, here is the config used by the public demo site, which exposes several additional web services:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;infra_portal&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;home         &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;home.pigsty.cc }&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;grafana      &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: demo.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:3000&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;,websocket&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;prometheus   &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: p.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:9090&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alertmanager &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: a.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:9093&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;blackbox     &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:9115&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;loki         &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:3100&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 新增的 Web 门户&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;minio        &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: sss.pigsty  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;${admin_ip}:9001&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;,scheme: https ,websocket&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;postgrest    &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: api.pigsty.cc  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8884&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;pgadmin      &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: adm.pigsty.cc  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8885&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;pgweb        &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: cli.pigsty.cc  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8886&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;bytebase     &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: ddl.pigsty.cc  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8887&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;gitea        &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: git.pigsty.cc  ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8889&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;wiki         &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: wiki.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:9002&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;noco         &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: noco.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:9003&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;supa         &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;domain: supa.pigsty.cc ,endpoint&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;127.0.0.1:8000&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;, websocket&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After completing the Nginx upstream service definition, use the following configuration and command to register the new service with Nginx.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t nginx_config           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# regenerate Nginx config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t nginx_launch           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# update and apply nginx config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# you can reload nginx with ansible&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ansible infra -b -a &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;nginx -s reload&amp;#39;&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# reload nginx with ansible&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you wish to access via HTTPS, you must delete &lt;code&gt;files/pki/csr/pigsty.csr&lt;/code&gt; and &lt;code&gt;files/pki/nginx/pigsty.{key,crt}&lt;/code&gt; to force the regeneration of the Nginx SSL/TLS certificate to include the new upstream domain names. If you prefer to use an SSL certificate issued by an authoritative organization instead of a certificate issued by Pigsty&amp;rsquo;s self-signed CA, you can place it in the &lt;code&gt;/etc/nginx/conf.d/cert/&lt;/code&gt; directory and modify the corresponding configuration: &lt;code&gt;/etc/nginx/conf.d/&amp;lt;name&amp;gt;.conf&lt;/code&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-manually-add-upstream-repo-files&#34;&gt;How to manually add upstream repo files&lt;/h2&gt;
&lt;p&gt;Pigsty has a built-in wrap script &lt;code&gt;bin/repo-add&lt;/code&gt;, which will invoke ansible playbook &lt;code&gt;node.yml&lt;/code&gt; to adding repo files to corresponding nodes.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/repo-add &amp;lt;selector&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;modules&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/repo-add 10.10.10.10           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# add node repos for node 10.10.10.10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/repo-add infra   node,infra    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# add node and infra repos for group infra&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/repo-add infra   node,local    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# add node repos and local pigsty repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/repo-add pg-test node,pgsql    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# add node &amp;amp; pgsql repos for group pg-test&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/minio/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/minio/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;fail-to-launch-multi-node--multi-driver-minio-cluster&#34;&gt;Fail to launch multi-node / multi-driver MinIO cluster.&lt;/h2&gt;
&lt;p&gt;In &lt;a href=&#34;/docs/minio/#single-node-multi-drive&#34;&gt;Multi-Driver&lt;/a&gt; or &lt;a href=&#34;/docs/minio/#multi-node-multi-drive&#34;&gt;Multi-Node&lt;/a&gt; mode, MinIO will refuse to start if the data dir is not a valid mount point.&lt;/p&gt;
&lt;p&gt;Use mounted disks for MinIO data dir rather than some regular directory. You can use the regular directory only in the &lt;a href=&#34;/docs/minio/#single-node-single-drive&#34;&gt;single node, single drive&lt;/a&gt; mode.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-deploy-a-multi-node-multi-drive-minio-cluster&#34;&gt;How to deploy a multi-node multi-drive MinIO cluster?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Check &lt;a href=&#34;/docs/minio/#multi-node-multi-drive&#34;&gt;Create Multi-Node Multi-Driver MinIO Cluster&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-add-a-member-to-the-existing-minio-cluster&#34;&gt;How to add a member to the existing MinIO cluster?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;d better plan the MinIO cluster before deployment&amp;hellip; Since this requires a global restart&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check this: &lt;a href=&#34;https://min.io/docs/minio/linux/operations/install-deploy-manage/expand-minio-deployment.html&#34;&gt;Expand MinIO Deployment&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-use-a-ha-minio-deployment-for-pgsql&#34;&gt;How to use a HA MinIO deployment for PGSQL?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Access the HA MinIO cluster with an optional load balancer and different ports.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is an example: &lt;a href=&#34;/docs/minio/#access-service&#34;&gt;Access MinIO Service&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/node/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/node/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;how-to-configure-ntp-service&#34;&gt;How to configure NTP service?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;If NTP is not configured, use a public NTP service or sync time with the admin node.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If your nodes already have NTP configured, you can leave it there by setting &lt;code&gt;node_ntp_enabled&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Otherwise, if you have Internet access, you can use public NTP services such as &lt;code&gt;pool.ntp.org&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t have Internet access, at least you can sync time with the admin node with the following:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;node_ntp_servers:                 &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# NTP servers in /etc/chrony.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - pool cn.pool.ntp.org iburst
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - pool &lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;admin_ip&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt; iburst       &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# assume non-admin nodes do not have internet access&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-force-sync-time-on-nodes&#34;&gt;How to force sync time on nodes?&lt;/h2&gt;
&lt;p&gt;Use &lt;code&gt;chronyc&lt;/code&gt; to sync time. You have to configure the NTP service first.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ansible all -b -a &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;chronyc -a makestep&amp;#39;&lt;/span&gt;     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# sync time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can replace &lt;code&gt;all&lt;/code&gt; with any group or host IP address to limit execution scope.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;remote-nodes-are-not-accessible-via-ssh-commands&#34;&gt;Remote nodes are not accessible via SSH commands.&lt;/h2&gt;
&lt;p&gt;Consider using &lt;a href=&#34;https://docs.ansible.com/ansible/latest/inventory_guide/connection_details.html&#34;&gt;&lt;strong&gt;Ansible connection parameters&lt;/strong&gt;&lt;/a&gt; if the target machine is hidden behind an SSH springboard machine,
or if some customizations have been made that cannot be accessed directly using &lt;code&gt;ssh ip&lt;/code&gt;.
Additional SSH ports can be specified with &lt;code&gt;ansible_port&lt;/code&gt; or &lt;code&gt;ansible_host&lt;/code&gt; for SSH Alias.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pg-test:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  vars: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt; pg_cluster: pg-test &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  hosts:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    10.10.10.11: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;pg_seq: 1, pg_role: primary, ansible_host: node-1 &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    10.10.10.12: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;pg_seq: 2, pg_role: replica, ansible_port: 22223, ansible_user: admin &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    10.10.10.13: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;pg_seq: 3, pg_role: offline, ansible_port: &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;22224&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;password-required-for-remote-node-ssh-and-sudo&#34;&gt;Password required for remote node SSH and SUDO&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;When performing deployments and changes&lt;/strong&gt;, the admin user used &lt;strong&gt;must&lt;/strong&gt; have &lt;code&gt;ssh&lt;/code&gt; and &lt;code&gt;sudo&lt;/code&gt; privileges for all nodes. Password-free is not required.&lt;/p&gt;
&lt;p&gt;You can pass in ssh and sudo passwords via the &lt;code&gt;-k|-K&lt;/code&gt; parameter when executing the playbook or even use another user to run the playbook via &lt;code&gt;-e&lt;/code&gt;&lt;a href=&#34;/docs/reference/param/#connect&#34;&gt;&lt;code&gt;ansible_host&lt;/code&gt;&lt;/a&gt;&lt;code&gt;=&amp;lt;another_user&amp;gt;&lt;/code&gt;.
However, Pigsty strongly recommends configuring SSH &lt;strong&gt;passwordless login&lt;/strong&gt; with passwordless &lt;code&gt;sudo&lt;/code&gt; for the admin user.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;create-an-admin-user-with-the-existing-admin-user&#34;&gt;Create an admin user with the existing admin user.&lt;/h2&gt;
&lt;p&gt;This will create an admin user specified by &lt;a href=&#34;/docs/reference/param/#node_admin_username&#34;&gt;&lt;code&gt;node_admin_username&lt;/code&gt;&lt;/a&gt; with the existing one on that node.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./node.yml -k -K -e ansible_user=&amp;lt;another_admin&amp;gt; -t node_admin`
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;exposing-node-services-with-haproxy&#34;&gt;Exposing node services with HAProxy&lt;/h2&gt;
&lt;p&gt;You can expose service with &lt;a href=&#34;/docs/reference/param/#haproxy_services&#34;&gt;&lt;code&gt;haproxy_services&lt;/code&gt;&lt;/a&gt; in &lt;code&gt;node.yml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s an example of exposing MinIO service with it: &lt;a href=&#34;/docs/minio/#expose-service&#34;&gt;Expose MinIO Service&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;why-my-nodes-etcyumreposd-are-nuked&#34;&gt;Why my nodes /etc/yum.repos.d/* are nuked?&lt;/h2&gt;
&lt;p&gt;Pigsty will try to include all dependencies in the local yum repo on infra nodes. This repo file will be added according to &lt;a href=&#34;/docs/reference/param/#node_repo_modules&#34;&gt;&lt;code&gt;node_repo_modules&lt;/code&gt;&lt;/a&gt;.
And existing repo files will be removed by default according to the default value of &lt;a href=&#34;/docs/reference/param/#node_repo_remove&#34;&gt;&lt;code&gt;node_repo_remove&lt;/code&gt;&lt;/a&gt;. This will prevent the node from using the Internet repo or some stupid issues.&lt;/p&gt;
&lt;p&gt;If you want to keep existing repo files during node init, just set &lt;a href=&#34;/docs/reference/param/#node_repo_remove&#34;&gt;&lt;code&gt;node_repo_remove&lt;/code&gt;&lt;/a&gt; to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you want to keep existing repo files during infra node local repo bootstrap, just set &lt;a href=&#34;/docs/reference/param/#repo_remove&#34;&gt;&lt;code&gt;repo_remove&lt;/code&gt;&lt;/a&gt; to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;why-my-shell-prompt-change-and-how-to-restore-it&#34;&gt;Why my shell prompt change and how to restore it?&lt;/h2&gt;
&lt;p&gt;The pigsty prompt is defined with the environment variable &lt;code&gt;PS1&lt;/code&gt; in &lt;code&gt;/etc/profile.d/node.sh&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To restore your existing prompt, just remove that file and login again.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tencent-opencloudos-compatibility-issue&#34;&gt;Tencent OpenCloudOS Compatibility Issue&lt;/h2&gt;
&lt;p&gt;OpenCloudOS does not have softdog module, overwrite &lt;code&gt;node_kernel_modules&lt;/code&gt; on global vars:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;node_kernel_modules&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;br_netfilter, ip_vs, ip_vs_rr, ip_vs_wrr, ip_vs_sh ]&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/pgsql/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/pgsql/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;abort-due-to-postgres-exists&#34;&gt;ABORT due to postgres exists&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Set &lt;code&gt;pg_clean&lt;/code&gt; = &lt;code&gt;true&lt;/code&gt; and &lt;code&gt;pg_safeguard&lt;/code&gt; = &lt;code&gt;false&lt;/code&gt; to force clean postgres data during &lt;code&gt;pgsql.yml&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This happens when you run &lt;code&gt;pgsql.yml&lt;/code&gt; on a node with postgres running, and &lt;a href=&#34;/docs/reference/param/#pg_clean&#34;&gt;&lt;code&gt;pg_clean&lt;/code&gt;&lt;/a&gt; is set to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;pg_clean&lt;/code&gt; is true (and the &lt;code&gt;pg_safeguard&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt;, too), the &lt;code&gt;pgsql.yml&lt;/code&gt; playbook will remove the existing pgsql data and re-init it as a new one, which makes this playbook fully idempotent.&lt;/p&gt;
&lt;p&gt;You can still purge the existing PostgreSQL data by using a special task tag &lt;code&gt;pg_purge&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t pg_clean      &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# honor pg_clean and pg_safeguard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t pg_purge      &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# ignore pg_clean and pg_safeguard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;abort-due-to-pg_safeguard-enabled&#34;&gt;ABORT due to pg_safeguard enabled&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Disable &lt;code&gt;pg_safeguard&lt;/code&gt; to remove the Postgres instance.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If &lt;a href=&#34;/docs/reference/param/#pg_safeguard&#34;&gt;&lt;code&gt;pg_safeguard&lt;/code&gt;&lt;/a&gt; is enabled, you can not remove the running pgsql instance with &lt;code&gt;bin/pgsql-rm&lt;/code&gt; and &lt;code&gt;pgsql-rm.yml&lt;/code&gt; playbook.&lt;/p&gt;
&lt;p&gt;To disable &lt;code&gt;pg_safeguard&lt;/code&gt;, you can set &lt;code&gt;pg_safeguard&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in the inventory or pass &lt;code&gt;-e pg_safeguard=false&lt;/code&gt; as cli arg to the playbook:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql-rm.yml -e &lt;span style=&#34;color:#000&#34;&gt;pg_safeguard&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt; -l &amp;lt;cls_to_remove&amp;gt;    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# force override pg_safeguard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;fail-to-wait-for-postgrespatroni-primary&#34;&gt;Fail to wait for postgres/patroni primary&lt;/h2&gt;
&lt;p&gt;There are several possible reasons for this error, and you need to &lt;a href=&#34;https://github.com/Vonng/pigsty/discussions/338&#34;&gt;check&lt;/a&gt; the system logs to determine the actual cause.&lt;/p&gt;
&lt;p&gt;This usually happens when the cluster is misconfigured, or the previous primary is improperly removed. (e.g., trash metadata in DCS with the same cluster name).&lt;/p&gt;
&lt;p&gt;You must check &lt;code&gt;/pg/log/*&lt;/code&gt; to find the reason.&lt;/p&gt;
&lt;p&gt;To delete trash meta from etcd, you can use &lt;code&gt;etcdctl del --prefix /pg/&amp;lt;cls&amp;gt;&lt;/code&gt;, do with caution!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1: Misconfiguration. Identify the incorrect parameters, modify them, and apply the changes.&lt;/li&gt;
&lt;li&gt;2: Another cluster with the same cls name already exists in the deployment&lt;/li&gt;
&lt;li&gt;3: The previous cluster on the node, or previous cluster with same name was not correctly removed.
&lt;ul&gt;
&lt;li&gt;To remove obsolete cluster metadata, you can use &lt;code&gt;etcdctl del --prefix /pg/&amp;lt;cls&amp;gt;&lt;/code&gt; to manually delete the residual data.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;4: The RPM packages related to your PostgreSQL or node were not successfully installed.&lt;/li&gt;
&lt;li&gt;5: Your Watchdog kernel module was not correctly enabled or loaded, but required.&lt;/li&gt;
&lt;li&gt;6: The locale or ctype specified &lt;code&gt;pg_lc_collate&lt;/code&gt; and &lt;code&gt;pg_lc_ctype&lt;/code&gt; does not exist in OS&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Feel free to submit an issue or seek help from the community.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;fail-to-wait-for-postgrespatroni-replica&#34;&gt;Fail to wait for postgres/patroni replica&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Failed Immediately&lt;/strong&gt;: Usually, this happens because of misconfiguration, network issues, broken DCS metadata, etc&amp;hellip;, you have to inspect &lt;code&gt;/pg/log&lt;/code&gt; to find out the actual reason.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Failed After a While&lt;/strong&gt;: This may be due to source instance data corruption. Check PGSQL FAQ: How to create replicas when data is corrupted?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Timeout&lt;/strong&gt;: If the &lt;code&gt;wait for postgres replica&lt;/code&gt; task takes 30min or more and fails due to timeout, This is common for a huge cluster (e.g., 1TB+, which may take hours to create a replica). In this case, the underlying creating replica procedure is still proceeding. You can check cluster status with &lt;code&gt;pg list &amp;lt;cls&amp;gt;&lt;/code&gt; and wait until the replica catches up with the primary. Then continue the following tasks:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql.yml -t pg_hba,pg_param,pg_backup,pgbouncer,pg_vip,pg_dns,pg_service,pg_exporter,pg_register -l &amp;lt;problematic_replica&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;install-postgresql-12---15&#34;&gt;Install PostgreSQL 12 - 15&lt;/h2&gt;
&lt;p&gt;To install PostgreSQL 12 - 15, you have to set &lt;code&gt;pg_version&lt;/code&gt; to &lt;code&gt;12&lt;/code&gt;, &lt;code&gt;13&lt;/code&gt;, &lt;code&gt;14&lt;/code&gt;, or &lt;code&gt;15&lt;/code&gt; in the inventory. (usually at cluster level)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;pg_version&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;16&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# install pg 16 in this template&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;pg_libs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;pg_stat_statements, auto_explain&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# remove timescaledb from pg 16 beta&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;pg_extensions&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;[]&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;                 &lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# missing pg16 extensions for now&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-enable-hugepage-for-postgresql&#34;&gt;How enable hugepage for PostgreSQL?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;use &lt;code&gt;node_hugepage_count&lt;/code&gt; and &lt;code&gt;node_hugepage_ratio&lt;/code&gt; or &lt;code&gt;/pg/bin/pg-tune-hugepage&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you plan to enable hugepage, consider using &lt;code&gt;node_hugepage_count&lt;/code&gt; and &lt;code&gt;node_hugepage_ratio&lt;/code&gt; and apply with &lt;code&gt;./node.yml -t node_tune&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s good to allocate &lt;strong&gt;enough&lt;/strong&gt; hugepage before postgres start, and use &lt;code&gt;pg_tune_hugepage&lt;/code&gt; to shrink them later.&lt;/p&gt;
&lt;p&gt;If your postgres is already running, you can use &lt;code&gt;/pg/bin/pg-tune-hugepage&lt;/code&gt; to enable hugepage on the fly. Note that this only works on PostgreSQL 15+&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sync&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;3&lt;/span&gt; &amp;gt; /proc/sys/vm/drop_caches   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# drop system cache (ready for performance impact)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo /pg/bin/pg-tune-hugepage             &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# write nr_hugepages to /etc/sysctl.d/hugepage.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pg restart &amp;lt;cls&amp;gt;                          &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# restart postgres to use hugepage&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-guarantee-zero-data-loss-during-failover&#34;&gt;How to guarantee zero data loss during failover?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Use &lt;code&gt;crit.yml&lt;/code&gt; template, or setting &lt;code&gt;pg_rpo&lt;/code&gt; to &lt;code&gt;0&lt;/code&gt;, or &lt;a href=&#34;/docs/pgsql/admin/#config-cluster&#34;&gt;config cluster&lt;/a&gt; with synchronous mode.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Consider using &lt;a href=&#34;/docs/pgsql/conf#sync-standby&#34;&gt;Sync Standby&lt;/a&gt; and &lt;a href=&#34;/docs/pgsql/conf#quorum-commit&#34;&gt;Quorum Comit&lt;/a&gt; to guarantee 0 data loss during failover.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-survive-from-disk-full&#34;&gt;How to survive from disk full?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;rm -rf /pg/dummy&lt;/code&gt; will free some emergency space.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;a href=&#34;/docs/reference/param/#pg_dummy_filesize&#34;&gt;&lt;code&gt;pg_dummy_filesize&lt;/code&gt;&lt;/a&gt; is set to &lt;code&gt;64MB&lt;/code&gt; by default. Consider increasing it to &lt;code&gt;8GB&lt;/code&gt; or larger in the production environment.&lt;/p&gt;
&lt;p&gt;It will be placed on &lt;code&gt;/pg/dummy&lt;/code&gt; same disk as the PGSQL main data disk. You can remove that file to free some emergency space. At least you can run some shell scripts on that node.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-create-replicas-when-data-is-corrupted&#34;&gt;How to create replicas when data is corrupted?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Disable &lt;code&gt;clonefrom&lt;/code&gt; on bad instances and reload patroni config.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pigsty sets the &lt;code&gt;cloneform: true&lt;/code&gt; tag on all instances&amp;rsquo; patroni config, which marks the instance available for cloning replica.&lt;/p&gt;
&lt;p&gt;If this instance has corrupt data files, you can set &lt;code&gt;clonefrom: false&lt;/code&gt; to avoid pulling data from the evil instance. To do so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ vi /pg/bin/patroni.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tags:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  nofailover: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  clonefrom: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;      &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# ----------&amp;gt; change to false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  noloadbalance: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  nosync: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  version:  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;15&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  spec: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;4C.8G.50G&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  conf: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;oltp.yml&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ systemctl reload patroni
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-create-replicas-when-data-is-corrupted-1&#34;&gt;How to create replicas when data is corrupted?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Disable &lt;code&gt;clonefrom&lt;/code&gt; on bad instances and reload patroni config.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pigsty sets the &lt;code&gt;cloneform: true&lt;/code&gt; tag on all instances&amp;rsquo; patroni config, which marks the instance available for cloning replica.&lt;/p&gt;
&lt;p&gt;If this instance has corrupt data files, you can set &lt;code&gt;clonefrom: false&lt;/code&gt; to avoid pulling data from the evil instance. To do so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ vi /pg/bin/patroni.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tags:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  nofailover: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  clonefrom: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;      &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# ----------&amp;gt; change to false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  noloadbalance: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  nosync: &lt;span style=&#34;color:#204a87&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  version:  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;15&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  spec: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;4C.8G.50G&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  conf: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;oltp.yml&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ systemctl reload patroni
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;performance-impact-of-monitoring-exporter&#34;&gt;Performance impact of monitoring exporter&lt;/h2&gt;
&lt;p&gt;Not very much, 200ms per 10 ~ 15 seconds, won&amp;rsquo;t affect the database performance.&lt;/p&gt;
&lt;p&gt;The default scrape interval for prometheus is 10s in pigsty, make sure the exporter can finish the scrape within that period.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-monitor-an-existing-postgresql-instance&#34;&gt;How to monitor an existing PostgreSQL instance?&lt;/h2&gt;
&lt;p&gt;Check &lt;a href=&#34;/docs/pgsql/monitor/&#34;&gt;PGSQL Monitor&lt;/a&gt; for details.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-remove-monitor-targets-from-prometheus&#34;&gt;How to remove monitor targets from prometheus?&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./pgsql-rm.yml -t prometheus -l &amp;lt;cls&amp;gt;     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# remove prometheus targets of cluster &amp;#39;cls&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Or&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bin/pgmon-rm &amp;lt;ins&amp;gt;     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# shortcut for removing prometheus targets of pgsql instance &amp;#39;ins&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/redis/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/redis/faq/</guid>
      <description>
        
        
        &lt;hr&gt;
&lt;h2 id=&#34;abort-due-to-existing-redis-instance&#34;&gt;ABORT due to existing redis instance&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;use &lt;code&gt;redis_clean = true&lt;/code&gt; and &lt;code&gt;redis_safeguard = false&lt;/code&gt; to force clean redis data&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This happens when you run &lt;code&gt;redis.yml&lt;/code&gt; to init a redis instance that is already running, and &lt;a href=&#34;/docs/redis/param/#redis_clean&#34;&gt;&lt;code&gt;redis_clean&lt;/code&gt;&lt;/a&gt; is set to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;redis_clean&lt;/code&gt; is set to &lt;code&gt;true&lt;/code&gt; (and the &lt;code&gt;redis_safeguard&lt;/code&gt; is set to &lt;code&gt;false&lt;/code&gt;, too), the &lt;code&gt;redis.yml&lt;/code&gt; playbook will remove the existing redis instance and re-init it as a new one, which makes the &lt;code&gt;redis.yml&lt;/code&gt; playbook fully idempotent.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;abort-due-to-redis_safeguard-enabled&#34;&gt;ABORT due to redis_safeguard enabled&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;This happens when removing a redis instance with &lt;a href=&#34;/docs/redis/param/#redis_safeguard&#34;&gt;&lt;code&gt;redis_safeguard&lt;/code&gt;&lt;/a&gt; set to &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can disable &lt;a href=&#34;/docs/redis/param/#redis_safeguard&#34;&gt;&lt;code&gt;redis_safeguard&lt;/code&gt;&lt;/a&gt; to remove the Redis instance. This is redis_safeguard is what it is for.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-add-a-single-new-redis-instance-on-this-node&#34;&gt;How to add a single new redis instance on this node?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Use &lt;code&gt;bin/redis-add &amp;lt;ip&amp;gt; &amp;lt;port&amp;gt;&lt;/code&gt; to deploy a new redis instance on node.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-remove-a-single-redis-instance-from-the-node&#34;&gt;How to remove a single redis instance from the node?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;bin/redis-rm &amp;lt;ip&amp;gt; &amp;lt;port&amp;gt;&lt;/code&gt; to remove a single redis instance from node&lt;/p&gt;
&lt;/blockquote&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: FAQ</title>
      <link>/docs/setup/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/setup/faq/</guid>
      <description>
        
        
        &lt;blockquote&gt;
&lt;p&gt;If you have any unlisted questions or suggestions, please create an &lt;a href=&#34;https://github.com/Vonng/pigsty/issues/new&#34;&gt;Issue&lt;/a&gt; or ask the &lt;a href=&#34;/docs/overview#about&#34;&gt;community&lt;/a&gt; for help.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-get-the-pigsty-source-package&#34;&gt;How to Get the Pigsty Source Package?&lt;/h2&gt;
&lt;p&gt;Use the following command to install Pigsty with one click: &lt;code&gt;curl -fsSL https://repo.pigsty.io/get | bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This command will automatically download the latest stable version &lt;code&gt;pigsty.tgz&lt;/code&gt; and extract it to the &lt;code&gt;~/pigsty&lt;/code&gt; directory. You can also manually download a specific version of the Pigsty source code from the following locations.&lt;/p&gt;
&lt;p&gt;If you need to install it in an environment without internet access, you can download it in advance in a networked environment and transfer it to the production server via scp/sftp or CDROM/USB.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-speed-up-rpm-downloads-from-upstream-repositories&#34;&gt;How to Speed Up RPM Downloads from Upstream Repositories?&lt;/h2&gt;
&lt;p&gt;Consider using a local repository mirror, which can be configured with the &lt;a href=&#34;/docs/reference/param/#repo_upstream&#34;&gt;&lt;code&gt;repo_upstream&lt;/code&gt;&lt;/a&gt; parameter. You can choose &lt;a href=&#34;/docs/reference/param/#region&#34;&gt;&lt;code&gt;region&lt;/code&gt;&lt;/a&gt; to use different mirror sites.&lt;/p&gt;
&lt;p&gt;For example, you can set &lt;code&gt;region&lt;/code&gt; = &lt;code&gt;china&lt;/code&gt;, which will use the URL with the key &lt;code&gt;china&lt;/code&gt; in the &lt;code&gt;baseurl&lt;/code&gt; instead of &lt;code&gt;default&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If some repositories are blocked by a firewall or the GFW, consider using &lt;a href=&#34;/docs/reference/param/#proxy_env&#34;&gt;&lt;code&gt;proxy_env&lt;/code&gt;&lt;/a&gt; to bypass it.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-resolve-node-package-conflict&#34;&gt;How to resolve node package conflict?&lt;/h2&gt;
&lt;p&gt;Beware that Pigsty&amp;rsquo;s pre-built &lt;a href=&#34;/docs/setup/offline/&#34;&gt;&lt;strong&gt;offline packages&lt;/strong&gt;&lt;/a&gt; are tailored for &lt;a href=&#34;/docs/reference/compatibility/#vagrant-boxes&#34;&gt;&lt;strong&gt;specific minor versions OS Distors&lt;/strong&gt;&lt;/a&gt;.
Therefore, if the &lt;code&gt;major.minor&lt;/code&gt; version of your OS distro does not precisely align, we advise against using the offline installation packages.
Instead, following the default installation procedure and download the package directly from upstream repo through the Internet, which will acquire the versions that exactly match your OS version.&lt;/p&gt;
&lt;p&gt;If online installation doesn&amp;rsquo;t work for you, you can first try modifying the upstream software sources used by Pigsty.
For example, in EL family operating systems, Pigsty&amp;rsquo;s default upstream sources use a major version placeholder &lt;code&gt;$releasever&lt;/code&gt;, which resolves to specific major versions like 7, 8, 9.
However, many operating system distributions offer a Vault, allowing you to use a package mirror for a specific version.
Therefore, you could replace the front part of the &lt;code&gt;repo_upstream&lt;/code&gt; parameter&amp;rsquo;s BaseURL with a specific Vault minor version repository, such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;https://dl.rockylinux.org/pub/rocky/$releasever&lt;/code&gt; (Original BaseURL prefix, without &lt;code&gt;vault&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://vault.centos.org/7.6.1810/&lt;/code&gt; (Using 7.6 instead of the default 7.9)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://dl.rockylinux.org/vault/rocky/8.6/&lt;/code&gt; (Using 8.6 instead of the default 8.9)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://dl.rockylinux.org/vault/rocky/9.2/&lt;/code&gt; (Using 9.2 instead of the default 9.3)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Make sure the vault URL path exists &amp;amp; valid before replacing the old values. Beware that some repo like &lt;code&gt;epel&lt;/code&gt; do not offer specific minor version subdirs.
Upstream repo that support this approach include: &lt;code&gt;base&lt;/code&gt;, &lt;code&gt;updates&lt;/code&gt;, &lt;code&gt;extras&lt;/code&gt;, &lt;code&gt;centos-sclo&lt;/code&gt;, &lt;code&gt;centos-sclo-rh&lt;/code&gt;, &lt;code&gt;baseos&lt;/code&gt;, &lt;code&gt;appstream&lt;/code&gt;, &lt;code&gt;extras&lt;/code&gt;, &lt;code&gt;crb&lt;/code&gt;, &lt;code&gt;powertools&lt;/code&gt;, &lt;code&gt;pgdg-common&lt;/code&gt;, &lt;code&gt;pgdg1*&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;repo_upstream&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pigsty-local   ,description: &amp;#39;Pigsty Local&amp;#39;      ,module: local ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;http://${admin_ip}/pigsty&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# used by intranet nodes&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pigsty-infra   ,description: &amp;#39;Pigsty INFRA&amp;#39;      ,module: infra ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://repo.pigsty.io/rpm/infra/$basearch&amp;#39; ,china&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://repo.pigsty.cc/rpm/infra/$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pigsty-pgsql   ,description: &amp;#39;Pigsty PGSQL&amp;#39;      ,module: pgsql ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://repo.pigsty.io/rpm/pgsql/el$releasever.$basearch&amp;#39; ,china&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://repo.pigsty.cc/rpm/pgsql/el$releasever.$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: nginx          ,description: &amp;#39;Nginx Repo&amp;#39;        ,module: infra ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://nginx.org/packages/centos/$releasever/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: docker-ce      ,description: &amp;#39;Docker CE&amp;#39;         ,module: infra ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.docker.com/linux/centos/$releasever/$basearch/stable&amp;#39;        ,china: &amp;#39;https://mirrors.aliyun.com/docker-ce/linux/centos/$releasever/$basearch/stable&amp;#39;  ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/docker-ce/linux/centos/$releasever/$basearch/stable&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: base           ,description: &amp;#39;EL 7 Base&amp;#39;         ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://mirror.centos.org/centos/$releasever/os/$basearch/&amp;#39;                    ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/&amp;#39;           ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/centos/$releasever/os/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;           &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: updates        ,description: &amp;#39;EL 7 Updates&amp;#39;      ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://mirror.centos.org/centos/$releasever/updates/$basearch/&amp;#39;               ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/&amp;#39;      ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/centos/$releasever/updates/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;      &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: extras         ,description: &amp;#39;EL 7 Extras&amp;#39;       ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://mirror.centos.org/centos/$releasever/extras/$basearch/&amp;#39;                ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/&amp;#39;       ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/centos/$releasever/extras/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;       &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: epel           ,description: &amp;#39;EL 7 EPEL&amp;#39;         ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://download.fedoraproject.org/pub/epel/$releasever/$basearch/&amp;#39;            ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/$basearch/&amp;#39;                ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/epel/$releasever/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;                &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: centos-sclo    ,description: &amp;#39;EL 7 SCLo&amp;#39;         ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://mirror.centos.org/centos/$releasever/sclo/$basearch/sclo/&amp;#39;             ,china: &amp;#39;https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/sclo/&amp;#39;              ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/sclo/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: centos-sclo-rh ,description: &amp;#39;EL 7 SCLo rh&amp;#39;      ,module: node  ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://mirror.centos.org/centos/$releasever/sclo/$basearch/rh/&amp;#39;               ,china: &amp;#39;https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/rh/&amp;#39;                ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/rh/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;      &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: baseos         ,description: &amp;#39;EL 8+ BaseOS&amp;#39;      ,module: node  ,releases: [  8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://dl.rockylinux.org/pub/rocky/$releasever/BaseOS/$basearch/os/&amp;#39;         ,china: &amp;#39;https://mirrors.aliyun.com/rockylinux/$releasever/BaseOS/$basearch/os/&amp;#39;          ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/rocky/$releasever/BaseOS/$basearch/os/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;     &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: appstream      ,description: &amp;#39;EL 8+ AppStream&amp;#39;   ,module: node  ,releases: [  8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://dl.rockylinux.org/pub/rocky/$releasever/AppStream/$basearch/os/&amp;#39;      ,china: &amp;#39;https://mirrors.aliyun.com/rockylinux/$releasever/AppStream/$basearch/os/&amp;#39;       ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/rocky/$releasever/AppStream/$basearch/os/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: extras         ,description: &amp;#39;EL 8+ Extras&amp;#39;      ,module: node  ,releases: [  8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://dl.rockylinux.org/pub/rocky/$releasever/extras/$basearch/os/&amp;#39;         ,china: &amp;#39;https://mirrors.aliyun.com/rockylinux/$releasever/extras/$basearch/os/&amp;#39;          ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/rocky/$releasever/extras/$basearch/os/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;     &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: crb            ,description: &amp;#39;EL 9 CRB&amp;#39;          ,module: node  ,releases: [    9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://dl.rockylinux.org/pub/rocky/$releasever/CRB/$basearch/os/&amp;#39;            ,china: &amp;#39;https://mirrors.aliyun.com/rockylinux/$releasever/CRB/$basearch/os/&amp;#39;             ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/rocky/$releasever/CRB/$basearch/os/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;        &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: powertools     ,description: &amp;#39;EL 8 PowerTools&amp;#39;   ,module: node  ,releases: [  8  ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://dl.rockylinux.org/pub/rocky/$releasever/PowerTools/$basearch/os/&amp;#39;     ,china: &amp;#39;https://mirrors.aliyun.com/rockylinux/$releasever/PowerTools/$basearch/os/&amp;#39;      ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/rocky/$releasever/PowerTools/$basearch/os/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: epel           ,description: &amp;#39;EL 8+ EPEL&amp;#39;        ,module: node  ,releases: [  8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;http://download.fedoraproject.org/pub/epel/$releasever/Everything/$basearch/&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/Everything/$basearch/&amp;#39;     ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/epel/$releasever/Everything/$basearch/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;     &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg-common    ,description: &amp;#39;PostgreSQL Common&amp;#39; ,module: pgsql ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/common/redhat/rhel-$releasever-$basearch&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch&amp;#39; , europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg-extras    ,description: &amp;#39;PostgreSQL Extra&amp;#39;  ,module: pgsql ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch&amp;#39; , europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg-el8fix    ,description: &amp;#39;PostgreSQL EL8FIX&amp;#39; ,module: pgsql ,releases: [  8  ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/&amp;#39; , europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg-el9fix    ,description: &amp;#39;PostgreSQL EL9FIX&amp;#39; ,module: pgsql ,releases: [    9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/&amp;#39;  ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/&amp;#39; , europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg15         ,description: &amp;#39;PostgreSQL 15&amp;#39;     ,module: pgsql ,releases: [7    ] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/15/redhat/rhel-$releasever-$basearch&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch&amp;#39; ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: pgdg16         ,description: &amp;#39;PostgreSQL 16&amp;#39;     ,module: pgsql ,releases: [  8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default: &amp;#39;https://download.postgresql.org/pub/repos/yum/16/redhat/rhel-$releasever-$basearch&amp;#39; ,china: &amp;#39;https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/16/redhat/rhel-$releasever-$basearch&amp;#39; ,europe&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://mirrors.xtom.de/postgresql/repos/yum/16/redhat/rhel-$releasever-$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;- {&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name: timescaledb    ,description: &amp;#39;TimescaleDB&amp;#39;       ,module: pgsql ,releases: [7,8,9] ,baseurl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;{&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;https://packagecloud.io/timescale/timescaledb/el/$releasever/$basearch&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;}}&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After explicitly defining and overriding the &lt;code&gt;repo_upstream&lt;/code&gt; in the Pigsty configuration file, (you may clear the &lt;code&gt;/www/pigsty/repo_complete&lt;/code&gt; flag) try the installation again.
If the upstream software source and the mirror source software do not solve the problem, you might consider replacing them with the operating system&amp;rsquo;s built-in software sources and attempt a direct installation from upstream once more.&lt;/p&gt;
&lt;p&gt;Finally, if the above methods do not resolve the issue, consider removing conflicting packages from &lt;code&gt;node_packages&lt;/code&gt;, &lt;code&gt;infra_packages&lt;/code&gt;, &lt;code&gt;pg_packages&lt;/code&gt;, &lt;code&gt;pg_extensions&lt;/code&gt;, or remove or upgrade the conflicting packages on the existing system.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-does-bootstrap-do&#34;&gt;What does &lt;code&gt;bootstrap&lt;/code&gt; do?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Check the environment, ask for downloading offline packages, and make sure the essential tool &lt;code&gt;ansible&lt;/code&gt; is installed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It will make sure the essential tool &lt;code&gt;ansible&lt;/code&gt; is installed by various means.&lt;/p&gt;
&lt;p&gt;When you download the Pigsty source code, you can enter the directory and execute the &lt;a href=&#34;/docs/setup/install/#bootstrap&#34;&gt;&lt;code&gt;bootstrap&lt;/code&gt;&lt;/a&gt; script.
It will check if your node environment is ready, and if it does not find offline packages, it will ask if you want to download them from the internet if applicable.&lt;/p&gt;
&lt;p&gt;You can choose &lt;code&gt;y&lt;/code&gt; to use offline packages, which will make the installation procedure faster.
You can also choose &lt;code&gt;n&lt;/code&gt; to skip and download directly from the internet during the installation process,
which will download the latest software versions and reduce the chance of RPM conflicts.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-does-configure-do&#34;&gt;What does &lt;code&gt;configure&lt;/code&gt; do?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Detect the environment, generate the configuration, enable the offline package (optional), and install the essential tool Ansible.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After downloading the Pigsty source package and unpacking it, you may have to execute &lt;code&gt;./configure&lt;/code&gt; to complete the environment &lt;a href=&#34;/docs/setup/install/#configure&#34;&gt;configuration&lt;/a&gt;. This is optional if you already know how to configure Pigsty properly.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;configure&lt;/strong&gt; procedure will detect your node environment and generate a pigsty config file: &lt;code&gt;pigsty.yml&lt;/code&gt; for you.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-is-the-pigsty-config-file&#34;&gt;What is the Pigsty config file?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;pigsty.yml&lt;/code&gt; under the pigsty home dir is the default config file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pigsty uses a single config file &lt;code&gt;pigsty.yml,&lt;/code&gt; to describe the entire environment, and you can define everything there. There are many config examples in &lt;a href=&#34;https://github.com/Vonng/pigsty/tree/master/files/pigsty&#34;&gt;&lt;code&gt;files/pigsty&lt;/code&gt;&lt;/a&gt; for your reference.&lt;/p&gt;
&lt;p&gt;You can pass the &lt;code&gt;-i &amp;lt;path&amp;gt;&lt;/code&gt; to playbooks to use other configuration files. For example, you want to install redis according to another config: &lt;code&gt;redis.yml&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis.yml -i files/pigsty/redis.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-use-the-cmdb-as-config-inventory&#34;&gt;How to use the CMDB as config inventory&lt;/h2&gt;
&lt;p&gt;The default config file path is specified in &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/ansible.cfg&#34;&gt;&lt;code&gt;ansible.cfg&lt;/code&gt;&lt;/a&gt;: &lt;code&gt;inventory = pigsty.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can switch to a dynamic CMDB inventory with &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/bin/inventory_cmdb&#34;&gt;&lt;code&gt;bin/inventory_cmdb&lt;/code&gt;&lt;/a&gt;, and switch back to the local config file with &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/bin/inventory_conf&#34;&gt;&lt;code&gt;bin/inventory_conf&lt;/code&gt;&lt;/a&gt;. You must also load the current config file inventory to CMDB with &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/bin/inventory_load&#34;&gt;&lt;code&gt;bin/inventory_load&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If CMDB is used, you must edit the inventory config from the database rather than the config file.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-is-the-ip-address-placeholder-in-the-config-file&#34;&gt;What is the IP address placeholder in the config file?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Pigsty uses &lt;code&gt;10.10.10.10&lt;/code&gt; as a placeholder for the current node IP, which will be replaced with the primary IP of the current node during the configuration.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When the &lt;code&gt;configure&lt;/code&gt; detects multiple NICs with multiple IPs on the current node, the config wizard will prompt for the &lt;strong&gt;primary&lt;/strong&gt; IP to be used, i.e., &lt;strong&gt;the IP used by the user to access the node from the internal network&lt;/strong&gt;. Note that please do not use the public IP.&lt;/p&gt;
&lt;p&gt;This IP will be used to replace &lt;code&gt;10.10.10.10&lt;/code&gt; in the config file template.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;which-parameters-need-your-attention&#34;&gt;Which parameters need your attention?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Usually, in a singleton installation, there is no need to make any adjustments to the config files.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pigsty provides 265 config parameters to customize the entire infra/node/etcd/minio/pgsql.  However, there are a few parameters that can be adjusted in advance if needed:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When accessing web service components, the domain name is &lt;a href=&#34;/docs/reference/param/#infra_portal&#34;&gt;&lt;code&gt;infra_portal&lt;/code&gt;&lt;/a&gt; (some services can only be accessed using the domain name through the Nginx proxy).&lt;/li&gt;
&lt;li&gt;Pigsty assumes that a &lt;code&gt;/data&lt;/code&gt; dir exists to hold all data; you can adjust these paths if the data disk mount point differs from this.&lt;/li&gt;
&lt;li&gt;Don&amp;rsquo;t forget to change those &lt;strong&gt;passwords&lt;/strong&gt; in the config file for your production deployment.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;
&lt;hr&gt;
&lt;h2 id=&#34;what-was-executed-during-installation&#34;&gt;What was executed during installation?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;When running &lt;code&gt;make install&lt;/code&gt;, the ansible-playbook &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/install.yml&#34;&gt;&lt;code&gt;install.yml&lt;/code&gt;&lt;/a&gt; will be invoked to install everything on all nodes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Which will:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install &lt;code&gt;INFRA&lt;/code&gt; module on the current node.&lt;/li&gt;
&lt;li&gt;Install &lt;code&gt;NODE&lt;/code&gt; module on the current node.&lt;/li&gt;
&lt;li&gt;Install &lt;code&gt;ETCD&lt;/code&gt; module on the current node.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;MinIO&lt;/code&gt; module is optional, and will not be installed by default.&lt;/li&gt;
&lt;li&gt;Install &lt;code&gt;PGSQL&lt;/code&gt; module on the current node.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;how-to-resolve-rpm-conflict&#34;&gt;How to resolve RPM conflict?&lt;/h2&gt;
&lt;p&gt;There may have a slight chance that rpm conflict occurs during node/infra/pgsql packages installation.&lt;/p&gt;
&lt;p&gt;The simplest way to resolve this is to install without offline packages, which will download directly from the upstream repo.&lt;/p&gt;
&lt;p&gt;If there are only a few problematic RPM/DEB pakages, you can use a trick to fix the yum/apt repo quickly:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf /www/pigsty/repo_complete    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# delete the repo_complete flag file to mark this repo incomplete&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf SomeBrokenPackages           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# delete problematic RPM/DEB packages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t repo_upstream        &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# write upstream repos. you can also use /etc/yum.repos.d/backup/*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t repo_pkg             &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# download rpms according to your current OS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;how-to-create-local-vms-with-vagrant&#34;&gt;How to create local VMs with vagrant&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The first time you use Vagrant to pull up a particular OS repo, it will download the corresponding BOX.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pigsty sandbox uses &lt;code&gt;generic/rocky9&lt;/code&gt; image box by default, and Vagrant will download the &lt;code&gt;rocky/9&lt;/code&gt; box for the first time the VM is started.&lt;/p&gt;
&lt;p&gt;Using a proxy may increase the download speed. Box only needs to be downloaded once, and will be reused when recreating the sandbox.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;rpms-error-on-aliyun-centos-79&#34;&gt;RPMs error on Aliyun CentOS 7.9&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Aliyun CentOS 7.9 server has DNS caching service &lt;code&gt;nscd&lt;/code&gt; installed by default. Just remove it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Aliyun&amp;rsquo;s CentOS 7.9 repo has &lt;code&gt;nscd&lt;/code&gt; installed by default, locking out the glibc version, which can cause RPM dependency errors during installation.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Error: Package: nscd-2.17-307.el7.1.x86_64 (@base)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run &lt;code&gt;yum remove -y nscd&lt;/code&gt; on all nodes to resolve this issue, and with Ansible, you can batch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ansible all -b -a &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;yum remove -y nscd&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;rpms-error-on-tencent-qcloud-rocky-91&#34;&gt;RPMs error on Tencent Qcloud Rocky 9.1&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Tencent Qcloud Rocky 9.1 require extra &lt;code&gt;annobin&lt;/code&gt; packages&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t repo_upstream      &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# add upstream repos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;cd&lt;/span&gt; /www/pigsty&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;                   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# download missing packages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;repotrack annobin gcc-plugin-annobin libuser
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./infra.yml -t repo_create        &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# create repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;ansible-command-timeout-timeout-waiting-for-xxx&#34;&gt;Ansible command timeout (Timeout waiting for xxx)&lt;/h2&gt;
&lt;p&gt;The default ssh timeout for ansible command is 10 seconds, some commands may take longer than that due to network latency or other reasons.&lt;/p&gt;
&lt;p&gt;You can increase the timeout parameter in the ansible config file &lt;a href=&#34;https://github.com/Vonng/pigsty/blob/main/ansible.cfg&#34;&gt;&lt;code&gt;ansible.cfg&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;[defaults]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;timeout&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;10 # change to 60,120 or more&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
  </channel>
</rss>
